{"title":"用Docker搭建LNMP环境","uid":"50cf5c76074e26e315ae86b2cbee0e59","slug":"用Docker搭建LNMP环境","date":"2019-07-19T09:57:13.000Z","updated":"2021-06-17T09:25:06.579Z","comments":true,"path":"api/articles/用Docker搭建LNMP环境.json","cover":"https://xmyunwei.com/wp-content/uploads/2020/10/docker-lnmp.png","content":"<p>人类的本质是复读机。</p>\n<span id=\"more\"></span>\n\n<h3 id=\"安装docker\"><a href=\"#安装docker\" class=\"headerlink\" title=\"安装docker\"></a>安装docker</h3><h4 id=\"查看内核版本\"><a href=\"#查看内核版本\" class=\"headerlink\" title=\"查看内核版本\"></a>查看内核版本</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ <span class=\"token function\">uname</span> -r\n<span class=\"token number\">3.10</span>.0-957.el7.x86_64<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"更新yum包\"><a href=\"#更新yum包\" class=\"headerlink\" title=\"更新yum包\"></a>更新yum包</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ yum update<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"添加包源\"><a href=\"#添加包源\" class=\"headerlink\" title=\"添加包源\"></a>添加包源</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\nLoaded plugins: fastestmirror, langpacks\nadding repo from: https://download.docker.com/linux/centos/docker-ce.repo\ngrabbing <span class=\"token function\">file</span> https://download.docker.com/linux/centos/docker-ce.repo to /etc/yum.repos.d/docker-ce.repo\nrepo saved to /etc/yum.repos.d/docker-ce.repo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"查看版本\"><a href=\"#查看版本\" class=\"headerlink\" title=\"查看版本\"></a>查看版本</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ yum list docker-ce --showduplicates <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> -r\nLoading mirror speeds from cached hostfile\nLoaded plugins: fastestmirror, langpacks\ndocker-ce.x86_64            <span class=\"token number\">3</span>:18.09.8-3.el7                     docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">3</span>:18.09.7-3.el7                     docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">3</span>:18.09.6-3.el7                     docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">3</span>:18.09.5-3.el7                     docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">3</span>:18.09.4-3.el7                     docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">3</span>:18.09.3-3.el7                     docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">3</span>:18.09.2-3.el7                     docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">3</span>:18.09.1-3.el7                     docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">3</span>:18.09.0-3.el7                     docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">18.06</span>.3.ce-3.el7                    docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">18.06</span>.2.ce-3.el7                    docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">18.06</span>.1.ce-3.el7                    docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">18.06</span>.0.ce-3.el7                    docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">18.03</span>.1.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">18.03</span>.0.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.12</span>.1.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.12</span>.0.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.09</span>.1.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.09</span>.0.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.06</span>.2.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.06</span>.1.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.06</span>.0.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.03</span>.3.ce-1.el7                    docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.03</span>.2.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.03</span>.1.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            <span class=\"token number\">17.03</span>.0.ce-1.el7.centos             docker-ce-stable\nAvailable Packages<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ yum <span class=\"token function\">install</span> docker-ce-18.03.1.ce<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"启动\"><a href=\"#启动\" class=\"headerlink\" title=\"启动\"></a>启动</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ systemctl start docker<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"设置开机启动-可选\"><a href=\"#设置开机启动-可选\" class=\"headerlink\" title=\"设置开机启动 (可选)\"></a>设置开机启动 (可选)</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ systemctl <span class=\"token builtin class-name\">enable</span> docker\nCreated symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"查看\"><a href=\"#查看\" class=\"headerlink\" title=\"查看\"></a>查看</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ docker version\nClient:\n Version:      <span class=\"token number\">18.03</span>.1-ce\n API version:  <span class=\"token number\">1.37</span>\n Go version:   go1.9.5\n Git commit:   9ee9f40\n Built:        Thu Apr <span class=\"token number\">26</span> 07:20:16 <span class=\"token number\">2018</span>\n OS/Arch:      linux/amd64\n Experimental: <span class=\"token boolean\">false</span>\n Orchestrator: swarm\n\nServer:\n Engine:\n  Version:      <span class=\"token number\">18.03</span>.1-ce\n  API version:  <span class=\"token number\">1.37</span> <span class=\"token punctuation\">(</span>minimum version <span class=\"token number\">1.12</span><span class=\"token punctuation\">)</span>\n  Go version:   go1.9.5\n  Git commit:   9ee9f40\n  Built:        Thu Apr <span class=\"token number\">26</span> 07:23:58 <span class=\"token number\">2018</span>\n  OS/Arch:      linux/amd64\n  Experimental: <span class=\"token boolean\">false</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"安装docker-compose\"><a href=\"#安装docker-compose\" class=\"headerlink\" title=\"安装docker-compose\"></a>安装docker-compose</h3><h4 id=\"从github安装\"><a href=\"#从github安装\" class=\"headerlink\" title=\"从github安装\"></a>从github安装</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ <span class=\"token function\">curl</span> -L <span class=\"token string\">\"https://github.com/docker/compose/releases/download/1.24.1/docker-compose-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -s<span class=\"token variable\">)</span></span>-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -m<span class=\"token variable\">)</span></span>\"</span> -o /usr/local/bin/docker-compose<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"给予执行权限\"><a href=\"#给予执行权限\" class=\"headerlink\" title=\"给予执行权限\"></a>给予执行权限</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ <span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"查看-1\"><a href=\"#查看-1\" class=\"headerlink\" title=\"查看\"></a>查看</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ docker-compose --version\ndocker-compose version <span class=\"token number\">1.24</span>.1, build 4667896b<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"搭建LNMP\"><a href=\"#搭建LNMP\" class=\"headerlink\" title=\"搭建LNMP\"></a>搭建LNMP</h3><p>这里直接用<a href=\"https://github.com/yeszao/dnmp\">yeszao/dnmp</a>的配置。</p>\n<h4 id=\"选取目录\"><a href=\"#选取目录\" class=\"headerlink\" title=\"选取目录\"></a>选取目录</h4><p>选择一个存放容器配置的目录(只是配置文件位置，镜像与容器在<code>/var/lib/docker</code>目录中)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~ <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">mkdir</span> dnmp <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">cd</span> dnmp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"拉取配置\"><a href=\"#拉取配置\" class=\"headerlink\" title=\"拉取配置\"></a>拉取配置</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> clone git@github.com:yeszao/dnmp.git <span class=\"token comment\"># 这里用的是v2.0.4的tag</span>\n$ <span class=\"token function\">cp</span> env.sample .env <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">cp</span> docker-compose.sample.yml docker-compose.yml<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"修改配置\"><a href=\"#修改配置\" class=\"headerlink\" title=\"修改配置\"></a>修改配置</h4><p>这里<code>docker-compose.yml</code> 只开启了<code>nginx</code>、<code>php</code>、<code>mysql8</code>和<code>redis</code>，<code>.env</code> 给php加了一些扩展。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># .env</span>\n<span class=\"token assign-left variable\">PHP_VERSION</span><span class=\"token operator\">=</span><span class=\"token number\">7.2</span>.19\n<span class=\"token assign-left variable\">PHP_PHP_CONF_FILE</span><span class=\"token operator\">=</span>./conf/php.ini\n<span class=\"token assign-left variable\">PHP_FPM_CONF_FILE</span><span class=\"token operator\">=</span>./conf/php-fpm.conf\n<span class=\"token assign-left variable\">PHP_LOG_DIR</span><span class=\"token operator\">=</span>./log/php\n<span class=\"token assign-left variable\">PHP_EXTENSIONS</span><span class=\"token operator\">=</span>pdo_mysql,mysqli,mbstring,gd,curl,opcache,redis,imap,swoole,xhprof,acpu<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>所有配置文件都在<code>~/dnmp/services/</code>目录中，所有日志都在<code>~/dnmp/log</code>中，具体见<a href=\"https://github.com/yeszao/dnmp\">yeszao/dnmp</a>。</p>\n<h4 id=\"执行构建\"><a href=\"#执行构建\" class=\"headerlink\" title=\"执行构建\"></a>执行构建</h4><p>在配置文件处执行</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ docker-compose up -d\nCreating network <span class=\"token string\">\"dnmp_default\"</span> with the default driver\nCreating redis <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span>\nCreating mysql <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span>\nCreating php   <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span>\nCreating nginx <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>初始构建需要一定时间，如果构建时无法下载组件，需要给容器指定dns服务器。</p>\n<ol>\n<li>查看宿主机<code>nameserver</code><pre class=\"line-numbers language-none\"><code class=\"language-none\">$ cat &#x2F;etc&#x2F;resolv.conf\n# Your system has been configured with &#39;manage-resolv-conf&#39; set to true.\n# As a result, cloud-init has written this file with configuration data\n# that it has been provided. Cloud-init, by default, will write this file\n# a single time (PER_ONCE).\n#\nnameserver 183.60.83.19\nnameserver 183.60.82.98<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>新建或修改<code>/etc/default/docker</code><pre class=\"line-numbers language-none\"><code class=\"language-none\">DOCKER_OPTS&#x3D;&quot;--dns 183.60.83.19&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li>重启<code>docker</code><pre class=\"line-numbers language-none\"><code class=\"language-none\">systemctl restart docker<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ol>\n<h4 id=\"查看容器\"><a href=\"#查看容器\" class=\"headerlink\" title=\"查看容器\"></a>查看容器</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ docker-compose <span class=\"token function\">ps</span>\nName               Command              State                    Ports\n----------------------------------------------------------------------------------------\nmysql   docker-entrypoint.sh mysqld     Up      <span class=\"token number\">0.0</span>.0.0:3306-<span class=\"token operator\">></span><span class=\"token number\">3306</span>/tcp, <span class=\"token number\">33060</span>/tcp\nnginx   nginx -g daemon off<span class=\"token punctuation\">;</span>            Up      <span class=\"token number\">0.0</span>.0.0:443-<span class=\"token operator\">></span><span class=\"token number\">443</span>/tcp, <span class=\"token number\">0.0</span>.0.0:80-<span class=\"token operator\">></span><span class=\"token number\">80</span>/tcp\nphp     docker-php-entrypoint php-fpm   Up      <span class=\"token number\">9000</span>/tcp, <span class=\"token number\">9501</span>/tcp\nredis   redis-server /etc/redis.conf    Up      <span class=\"token number\">0.0</span>.0.0:6379-<span class=\"token operator\">></span><span class=\"token number\">6379</span>/tcp           <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"配置命令别名\"><a href=\"#配置命令别名\" class=\"headerlink\" title=\"配置命令别名\"></a>配置命令别名</h4><p>从<code>bash.alias.sample</code>提取需要的别名到<code>~/.bashrc</code>或<code>~/.zshrc</code>中，然后重新<code>source</code>生效</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">dnginx</span><span class=\"token operator\">=</span><span class=\"token string\">'docker exec -it nginx /bin/sh'</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">dphp</span><span class=\"token operator\">=</span><span class=\"token string\">'docker exec -it php /bin/sh'</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">dmysql</span><span class=\"token operator\">=</span><span class=\"token string\">'docker exec -it mysql /bin/bash'</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">dredis</span><span class=\"token operator\">=</span><span class=\"token string\">'docker exec -it redis /bin/sh'</span>\n\n<span class=\"token function-name function\">php</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token assign-left variable\">tty</span><span class=\"token operator\">=</span>\n\t<span class=\"token function\">tty</span> -s <span class=\"token operator\">&amp;&amp;</span> <span class=\"token assign-left variable\">tty</span><span class=\"token operator\">=</span>--tty\n\tdocker run <span class=\"token punctuation\">\\</span>\n\t\t<span class=\"token variable\">$tty</span> <span class=\"token punctuation\">\\</span>\n\t\t--interactive <span class=\"token punctuation\">\\</span>\n\t\t--rm <span class=\"token punctuation\">\\</span>\n\t\t--volume <span class=\"token environment constant\">$PWD</span>:/www:rw <span class=\"token punctuation\">\\</span>\n\t\t--workdir /www <span class=\"token punctuation\">\\</span>\n\t\tdnmp_php php <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token function-name function\">composer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token assign-left variable\">tty</span><span class=\"token operator\">=</span>\n\t<span class=\"token function\">tty</span> -s <span class=\"token operator\">&amp;&amp;</span> <span class=\"token assign-left variable\">tty</span><span class=\"token operator\">=</span>--tty\n\tdocker run <span class=\"token punctuation\">\\</span>\n\t\t<span class=\"token variable\">$tty</span> <span class=\"token punctuation\">\\</span>\n\t\t--interactive <span class=\"token punctuation\">\\</span>\n\t\t--rm <span class=\"token punctuation\">\\</span>\n\t\t--user www-data:www-data <span class=\"token punctuation\">\\</span>\n\t\t--volume ~/dnmp/data/composer:/tmp/composer <span class=\"token punctuation\">\\</span>\n\t\t--volume <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span>:/app <span class=\"token punctuation\">\\</span>\n\t\t--workdir /app <span class=\"token punctuation\">\\</span>\n\t\tdnmp_php <span class=\"token function\">composer</span> <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"References\"><a href=\"#References\" class=\"headerlink\" title=\"References\"></a>References</h3><p><a href=\"https://docs.docker.com/install/linux/docker-ce/centos/\">Get Docker CE for CentOS</a><br><a href=\"https://docs.docker.com/compose/install/\">Install Docker Compose</a><br><a href=\"https://github.com/yeszao/dnmp\">yeszao/dnmp</a></p>\n","text":"人类的本质是复读机。 安装docker查看内核版本$ uname -r 3.10.0-957.el7.x86_64 更新yum包$ yum update 添加包源$ yum-config-manager --add-repo https://download.docker.com...","link":"","photos":[],"count_time":{"symbolsCount":"6.2k","symbolsTime":"6 mins."},"categories":[{"name":"运维","slug":"运维","count":1,"path":"api/categories/运维.json"}],"tags":[{"name":"docker","slug":"docker","count":1,"path":"api/tags/docker.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85docker\"><span class=\"toc-text\">安装docker</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">查看内核版本</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9B%B4%E6%96%B0yum%E5%8C%85\"><span class=\"toc-text\">更新yum包</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%B7%BB%E5%8A%A0%E5%8C%85%E6%BA%90\"><span class=\"toc-text\">添加包源</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">查看版本</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">安装</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%8A%A8\"><span class=\"toc-text\">启动</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8-%E5%8F%AF%E9%80%89\"><span class=\"toc-text\">设置开机启动 (可选)</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B\"><span class=\"toc-text\">查看</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85docker-compose\"><span class=\"toc-text\">安装docker-compose</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BB%8Egithub%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">从github安装</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%BB%99%E4%BA%88%E6%89%A7%E8%A1%8C%E6%9D%83%E9%99%90\"><span class=\"toc-text\">给予执行权限</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B-1\"><span class=\"toc-text\">查看</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%90%AD%E5%BB%BALNMP\"><span class=\"toc-text\">搭建LNMP</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%80%89%E5%8F%96%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">选取目录</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%8B%89%E5%8F%96%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">拉取配置</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">修改配置</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%89%A7%E8%A1%8C%E6%9E%84%E5%BB%BA\"><span class=\"toc-text\">执行构建</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E5%AE%B9%E5%99%A8\"><span class=\"toc-text\">查看容器</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E5%91%BD%E4%BB%A4%E5%88%AB%E5%90%8D\"><span class=\"toc-text\">配置命令别名</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#References\"><span class=\"toc-text\">References</span></a></li></ol>","author":{"name":"CloudyCity","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/17662451?s=400&u=643d94296b79c5e8424a2177fc4609a5e0ebeae0&v=4","link":"/","description":"拖延并发强迫症懒癌晚期患者","socials":{"github":"https://github.com/CloudyCity","twitter":"","stackoverflow":"https://stackoverflow.com/users/9827779/cloudycity","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://b23.tv/MK4nKb"},"steam":{"icon":"/svg/steam.svg","link":"https://steamcommunity.com/id/cloudycity"}}}},"mapped":true,"prev_post":{"title":"如何引用同一级查询的列别名作为新列","uid":"0abd40c040136e2dd273f02ae6ffdae7","slug":"如何引用同一级查询的列别名作为新列","date":"2019-08-03T15:46:21.000Z","updated":"2021-06-17T09:25:06.579Z","comments":true,"path":"api/articles/如何引用同一级查询的列别名作为新列.json","cover":"https://fs.buttercms.com/resize=width:940/BzVPXsRRQh2CF2GF8uKF","text":"火星救援，刻不容缓！ 示例表： mysql> SELECT * FROM core; +--------+--------+--------+ | field1 | field2 | field3 | +--------+--------+--------+ | 1 | 2 | ...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"db","slug":"db","count":1,"path":"api/categories/db.json"}],"tags":[{"name":"mysql","slug":"mysql","count":2,"path":"api/tags/mysql.json"}],"author":{"name":"CloudyCity","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/17662451?s=400&u=643d94296b79c5e8424a2177fc4609a5e0ebeae0&v=4","link":"/","description":"拖延并发强迫症懒癌晚期患者","socials":{"github":"https://github.com/CloudyCity","twitter":"","stackoverflow":"https://stackoverflow.com/users/9827779/cloudycity","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://b23.tv/MK4nKb"},"steam":{"icon":"/svg/steam.svg","link":"https://steamcommunity.com/id/cloudycity"}}}}},"next_post":{"title":"使用Webpack开发JS Sdk","uid":"ff1fb0ae51583213dce3cf60573ca74e","slug":"使用Webpack开发JS-Sdk","date":"2019-07-17T05:55:32.000Z","updated":"2021-06-17T09:25:06.579Z","comments":true,"path":"api/articles/使用Webpack开发JS-Sdk.json","cover":"https://pic1.zhimg.com/v2-76676bf647344f92c34a94e3dcc11d38_720w.jpg?source=172ae18b","text":"最近项目需要开发一个JS Sdk，为了保证可读性与可维护性，决定按模块开发，最后使用webpack打包。 文件结构|-- config | |-- webpack.base.js | |-- webpack.development.js | |-- webpack.product...","link":"","photos":[],"count_time":{"symbolsCount":"4.7k","symbolsTime":"4 mins."},"categories":[{"name":"前端","slug":"前端","count":4,"path":"api/categories/前端.json"}],"tags":[{"name":"webpack","slug":"webpack","count":2,"path":"api/tags/webpack.json"}],"author":{"name":"CloudyCity","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/17662451?s=400&u=643d94296b79c5e8424a2177fc4609a5e0ebeae0&v=4","link":"/","description":"拖延并发强迫症懒癌晚期患者","socials":{"github":"https://github.com/CloudyCity","twitter":"","stackoverflow":"https://stackoverflow.com/users/9827779/cloudycity","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://b23.tv/MK4nKb"},"steam":{"icon":"/svg/steam.svg","link":"https://steamcommunity.com/id/cloudycity"}}}}}}