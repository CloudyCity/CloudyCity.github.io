{"title":"GitHub Hexo绑定域名","uid":"e5beee7d760d79952b7d1c5a76907b4e","slug":"GitHub-Hexo绑定域名","date":"2019-04-28T08:55:14.000Z","updated":"2021-06-17T09:25:06.579Z","comments":true,"path":"api/articles/GitHub-Hexo绑定域名.json","cover":"https://cdn.searchenginejournal.com/wp-content/uploads/2018/10/shutterstock_781493554.png","content":"<p>火星救援，刻不容缓！</p>\n<span id=\"more\"></span>\n\n<h2 id=\"域名\"><a href=\"#域名\" class=\"headerlink\" title=\"域名\"></a>域名</h2><p>比较流行的是<code>.me</code>顶级域名，简洁直观，不过没有备案资质。<br>这里我用的就是<code>cloudycity.me</code>。</p>\n<h3 id=\"购买\"><a href=\"#购买\" class=\"headerlink\" title=\"购买\"></a>购买</h3><p>关于购买，这里有个非常赞的域名注册商比价网站<a href=\"https://www.nazhumi.com/domain/.me\">哪煮迷</a>。我是在西部数码注册的，首年20续费98。</p>\n<h3 id=\"解析\"><a href=\"#解析\" class=\"headerlink\" title=\"解析\"></a>解析</h3><p>添加两条CNAME规则将<code>@</code>与<code>www</code>都指向<code>Github page</code>地址：</p>\n<p><img src=\"https://user-images.githubusercontent.com/17662451/56861303-3123f700-69d2-11e9-8904-9dca87181e2c.png\" alt=\"image\"></p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><h3 id=\"添加CNAME文件\"><a href=\"#添加CNAME文件\" class=\"headerlink\" title=\"添加CNAME文件\"></a>添加CNAME文件</h3><p>在<code>source</code>分支中的<code>source</code>目录下新建一个<code>CNAME</code>文件，内容为绑定的域名：</p>\n<p><img src=\"https://user-images.githubusercontent.com/17662451/56861431-40577480-69d3-11e9-8c30-e23c3ac7652b.png\" alt=\"image\"></p>\n<p>然后重新部署博客。</p>\n<h3 id=\"申请HTTPS\"><a href=\"#申请HTTPS\" class=\"headerlink\" title=\"申请HTTPS\"></a>申请HTTPS</h3><p>到仓库设置中的<code>Github Page</code>子项中勾选<code>Enforce HTTPS</code></p>\n<p><img src=\"https://user-images.githubusercontent.com/17662451/56861662-739b0300-69d5-11e9-8918-6e383f93f3da.png\" alt=\"image\"></p>\n<div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">注意</p>\n<p>添加<code>CNAME</code>文件之后，项目设置中会自动识别域名。刚识别完域名的1分钟内还无法勾选<code>Enforce HTTPS</code>，勾选之后要等几个小时才能生效。</p>\n</div>\n<h2 id=\"后续\"><a href=\"#后续\" class=\"headerlink\" title=\"后续\"></a>后续</h2><h3 id=\"更新相关配置\"><a href=\"#更新相关配置\" class=\"headerlink\" title=\"更新相关配置\"></a>更新相关配置</h3><p>如果你的博客有插件涉及域名要记得修改，例如：</p>\n<ol>\n<li><p><code>gitment</code>插件用到的授权应用需要重新创建，详见<a href=\"https://cloudycity.me/p/9414.html#%E5%88%9B%E5%BB%BA%E6%8E%88%E6%9D%83%E5%BA%94%E7%94%A8\">hexo使用github issue存放文章与评论</a></p>\n</li>\n<li><p><code>Next</code>主题的文章访问计数需要去<a href=\"https://leancloud.cn/\">leancloud</a>的项目添加<code>安全域名</code></p>\n</li>\n</ol>\n<p><img src=\"https://user-images.githubusercontent.com/17662451/56861535-48fc7a80-69d4-11e9-8431-f619a5feb8e6.png\" alt=\"image\"></p>\n","text":"火星救援，刻不容缓！ 域名比较流行的是.me顶级域名，简洁直观，不过没有备案资质。这里我用的就是cloudycity.me。 购买关于购买，这里有个非常赞的域名注册商比价网站哪煮迷。我是在西部数码注册的，首年20续费98。 解析添加两条CNAME规则将@与www都指向Github...","link":"","photos":[],"count_time":{"symbolsCount":469,"symbolsTime":"1 mins."},"categories":[{"name":"新手村","slug":"新手村","count":7,"path":"api/categories/新手村.json"}],"tags":[{"name":"hexo","slug":"hexo","count":5,"path":"api/tags/hexo.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9F%9F%E5%90%8D\"><span class=\"toc-text\">域名</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%B4%AD%E4%B9%B0\"><span class=\"toc-text\">购买</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E6%9E%90\"><span class=\"toc-text\">解析</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Github\"><span class=\"toc-text\">Github</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B7%BB%E5%8A%A0CNAME%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">添加CNAME文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%94%B3%E8%AF%B7HTTPS\"><span class=\"toc-text\">申请HTTPS</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%90%8E%E7%BB%AD\"><span class=\"toc-text\">后续</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9B%B4%E6%96%B0%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">更新相关配置</span></a></li></ol></li></ol>","author":{"name":"CloudyCity","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/17662451?s=400&u=643d94296b79c5e8424a2177fc4609a5e0ebeae0&v=4","link":"/","description":"拖延并发强迫症懒癌晚期患者","socials":{"github":"https://github.com/CloudyCity","twitter":"","stackoverflow":"https://stackoverflow.com/users/9827779/cloudycity","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://b23.tv/MK4nKb"},"steam":{"icon":"/svg/steam.svg","link":"https://steamcommunity.com/id/cloudycity"}}}},"mapped":true,"prev_post":{"title":"Github Hexo的百度收录问题","uid":"95de16e3846c90a95f98f3b0e459fb6c","slug":"Github-Hexo的百度收录问题","date":"2019-04-28T09:54:27.000Z","updated":"2021-06-17T09:25:06.579Z","comments":true,"path":"api/articles/Github-Hexo的百度收录问题.json","cover":"https://www.sekkeistudio.com/blog/wp-content/uploads/2019/10/SEO-banner.png","text":"Github屏蔽了百度的爬虫，所以部署在Github Page的Hexo无法被百度收录，如果你绑定了自定义域名的话，这里有几个曲线救国方案。 私有主机将博客部署到自己的机器上。 对象存储将博客上传到对象存储。 国内托管在国内的代码托管平台部署Hexo，这里推荐Coding，流程与...","link":"","photos":[],"count_time":{"symbolsCount":631,"symbolsTime":"1 mins."},"categories":[{"name":"新手村","slug":"新手村","count":7,"path":"api/categories/新手村.json"}],"tags":[{"name":"hexo","slug":"hexo","count":5,"path":"api/tags/hexo.json"}],"author":{"name":"CloudyCity","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/17662451?s=400&u=643d94296b79c5e8424a2177fc4609a5e0ebeae0&v=4","link":"/","description":"拖延并发强迫症懒癌晚期患者","socials":{"github":"https://github.com/CloudyCity","twitter":"","stackoverflow":"https://stackoverflow.com/users/9827779/cloudycity","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://b23.tv/MK4nKb"},"steam":{"icon":"/svg/steam.svg","link":"https://steamcommunity.com/id/cloudycity"}}}}},"next_post":{"title":"使用satis搭建私有Composer库","uid":"ad23f6f0a2b244ea9443c9602b422b7a","slug":"使用satis搭建私有Composer库","date":"2019-04-16T08:05:33.000Z","updated":"2021-06-17T09:25:06.579Z","comments":true,"path":"api/articles/使用satis搭建私有Composer库.json","cover":"https://magently.com/app/uploads/2019/08/satis-1.jpg","text":"人类的本质是复读机。 最近整理项目，将一些复用的轮子封装成Composer组件，但不便于放在packgist.org，所以需要搭建私有的Composer库。 开发composer组件以之前的一遍文章 Laravel/Lumen 扩展DB Builder语法 的功能为例。 在组件项...","link":"","photos":[],"count_time":{"symbolsCount":"3.5k","symbolsTime":"3 mins."},"categories":[{"name":"php","slug":"php","count":12,"path":"api/categories/php.json"}],"tags":[{"name":"composer","slug":"composer","count":1,"path":"api/tags/composer.json"}],"author":{"name":"CloudyCity","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/17662451?s=400&u=643d94296b79c5e8424a2177fc4609a5e0ebeae0&v=4","link":"/","description":"拖延并发强迫症懒癌晚期患者","socials":{"github":"https://github.com/CloudyCity","twitter":"","stackoverflow":"https://stackoverflow.com/users/9827779/cloudycity","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://b23.tv/MK4nKb"},"steam":{"icon":"/svg/steam.svg","link":"https://steamcommunity.com/id/cloudycity"}}}}}}